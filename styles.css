* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

/* ğŸ”¹ ãƒšãƒ¼ã‚¸å…¨ä½“ã¯å¸¸ã« 100% é«˜ã• & ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¦æ­¢ */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;  /* ãƒ–ãƒ©ã‚¦ã‚¶å…¨ä½“ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ­¢ã‚ã‚‹ */
  font-family: system-ui, -apple-system, "Segoe UI", Roboto,
               "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
  background: #fafafa;
  color: #111;
  -webkit-text-size-adjust: 100%;
}

/* ä¸Šéƒ¨ãƒãƒ¼ï¼ˆå¸¸ã«ç”»é¢ä¸Šéƒ¨ã«è¦‹ãˆã‚‹ï¼‰ */
.topbar {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #fff;
  border-bottom: 1px solid #eee;
  padding: 10px 12px;
}
.topbar h1 {
  margin: 0;
  font-size: 18px;
}

/* ç”»é¢æœ¬ä½“ï¼šå¸¸ã«ç”»é¢é«˜ã•ã‹ã‚‰ãƒˆãƒƒãƒ—ãƒãƒ¼ã¶ã‚“ã‚’å¼•ã„ãŸã‚µã‚¤ã‚ºã«å›ºå®š */
main {
  height: calc(100% - 44px);      /* ãƒˆãƒƒãƒ—ãƒãƒ¼ã¶ã‚“ã‚’ã–ã£ãã‚Šå¼•ã */
  padding: 8px 12px 8px;          /* ä¸‹ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªä½™ç™½ */
  overflow: hidden;               /* main è‡ªä½“ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãªã„ */
}

/* ç”»é¢åˆ‡ã‚Šæ›¿ãˆã®åŸºæœ¬ï¼šå„ screen ãŒ main å…¨ä½“ã‚’å ã‚ã‚‹ */
.screen {
  display: none;
  height: 100%;
  overflow: hidden;
}
.screen.active {
  display: flex;
  flex-direction: column;
}

h2 {
  margin: 8px 0 12px;
  font-size: 18px;
}

/* ---------- Intro ç”»é¢ ---------- */

/* Intro ç”»é¢å…¨ä½“ã‚’ã€Œå†…éƒ¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€å¯èƒ½ã«ã™ã‚‹ */
#screenIntro {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.card {
  background: #fff;
  border-radius: 12px;
  border: 1px solid #eee;
  padding: 12px;
  margin-top: 8px;
}

.block {
  display: block;
  margin-bottom: 10px;
}
.block input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #ddd;
  font-size: 16px;
}

.primary,
.secondary {
  border-radius: 10px;
  padding: 12px 16px;
  font-size: 16px;
  min-height: 44px;
  border: none;
}
.primary {
  background: #0a7cff;
  color: #fff;
}
.secondary {
  background: #fff;
  border: 1px solid #ccc;
}

.muted {
  color: #666;
}
.small {
  font-size: 12px;
}

/* ---------- Menu ç”»é¢ ---------- */

/* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ã‚‚ main å…¨ä½“ã‚’å ã‚ã‚‹ */
#screenMenu {
  /* display ã¯ã“ã“ã§ã¯æŒ‡å®šã—ãªã„ï¼ˆ.screen / .screen.active ã«ä»»ã›ã‚‹ï¼‰ */
}

/* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã¨ãã ã‘ã€flexãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‹é«˜ã•100% ã«ã™ã‚‹ */
.screen.active#screenMenu {
  display: flex;
  flex-direction: column;
  height: 100%;
}

#screenMenu h2 {
  margin: 4px 0;
}

#screenMenu p.muted.small {
  margin: 0 0 4px;
}

/* å•†å“ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼éƒ¨åˆ†ï¼‰ */
.products {
  margin-top: 6px;
  flex: 1;                 /* ä¸Šã®èª¬æ˜ã¨ä¸‹ã®ã‚«ãƒ¼ãƒˆã®é–“ã‚’å…¨éƒ¨ä½¿ã† */
  min-height: 0;
  padding-bottom: 60px;    /* ä¸‹ã®ã‚«ãƒ¼ãƒˆãƒãƒ¼ã¶ã‚“ã®ä½™ç™½ */
  -webkit-overflow-scrolling: touch;
}

/* ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼šoverflow-y */
.products.vertical {
  overflow-y: auto;
  overflow-x: hidden;
}

/* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼šoverflow-x */
.products.horizontal {
  overflow-x: auto;
  overflow-y: hidden;  /* æ¨ªã‚¹ã‚¯æ™‚ã¯ç¸¦ã‚¹ã‚¯ãªã—ã«ã—ã¦è»¸ã‚’ã¯ã£ãã‚Šã•ã›ã‚‹ */
}

/* å…±é€šã®ã‚°ãƒªãƒƒãƒ‰è¨­å®šï¼ˆåˆ—æ•°ã¯å‘ãã”ã¨ã«åˆ‡ã‚Šæ›¿ãˆï¼‰ */
.products {
  display: grid;
  gap: 8px;
}

/* ğŸ”¹ ç¸¦ç”»é¢ï¼š2åˆ—ãƒ™ãƒ¼ã‚¹ï¼ˆvv / vh å…±é€šï¼‰ */
body[data-orientation="portrait"] .products {
  grid-template-columns: repeat(2, minmax(0, 1fr));  /* 2åˆ— */
}

/* ç¸¦ç”»é¢ + æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆvhï¼‰ï¼š2åˆ—Ã—4è¡Œãƒ™ãƒ¼ã‚¹ã®æ¨ªé€ã‚Š */
body[data-orientation="portrait"] .products.horizontal {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: calc(50% - 4px); /* 2åˆ—ç›¸å½“ */
  /* â˜… è¡Œã®é«˜ã•ã¯ã‚«ãƒ¼ãƒ‰ã®é«˜ã•ã«ä»»ã›ã‚‹ï¼ˆgrid-template-rows ã¯æŒ‡å®šã—ãªã„ï¼‰ */
  gap: 8px;
}

/* ğŸ”¹ æ¨ªç”»é¢ï¼š3åˆ—ãƒ™ãƒ¼ã‚¹ï¼ˆhv / hh å…±é€šï¼‰ */
body[data-orientation="landscape"] .products.vertical {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));  /* 3åˆ— */
  gap: 8px;
}

/* æ¨ªç”»é¢ + æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆhhï¼‰ï¼š3åˆ—Ã—3è¡Œãƒ™ãƒ¼ã‚¹ã®æ¨ªé€ã‚Š */
body[data-orientation="landscape"] .products.horizontal {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: calc(33.333% - 5px);        /* 1ãƒšãƒ¼ã‚¸ã¶ã‚“ã®å¹…ï¼ˆ3åˆ—ç›¸å½“ï¼‰ */
  gap: 8px;
  overflow-y: hidden;
}

/* å•†å“ã‚«ãƒ¼ãƒ‰ */
.product-card {
  background: #fff;
  border-radius: 10px;
  border: 1px solid #e5e5e5;
  padding: 8px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  /* â˜… å…¨æ¡ä»¶ã§ã‚«ãƒ¼ãƒ‰ã®å½¢ã‚’çµ±ä¸€ï¼ˆã ã„ãŸã„ 3:4 ã®ç¸¦é•·ï¼‰ */
  aspect-ratio: 4 / 3; 
}

.product-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
}
.product-price {
  font-size: 13px;
  color: #555;
  margin-bottom: 6px;
}
.product-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.qty-label {
  font-size: 13px;
}
.qty-controls {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
.qty-btn {
  border-radius: 8px;
  border: 1px solid #ccc;
  background: #fff;
  padding: 4px 8px;
  font-size: 16px;
}
.qty-value {
  min-width: 18px;
  text-align: center;
  font-size: 14px;
}

/* ã‚«ãƒ¼ãƒˆãƒãƒ¼ */
.cartbar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 10px 12px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background: #fff;
  border-top: 1px solid #eee;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 20;
}
.cartinfo {
  font-size: 14px;
}

/* ---------- çµæœç”»é¢ ---------- */

/* çµæœç”»é¢å…¨ä½“ã‚‚ã€Œå†…éƒ¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€ */
#screenResult {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.jsonbox {
  margin-top: 8px;
  white-space: pre-wrap;
  font-size: 12px;
  background: #fafafa;
  border-radius: 8px;
  padding: 8px;
  border: 1px solid #eee;
}

/* ===== æ¨ªç”»é¢ç”¨ã®èª¿æ•´ ===== */

/* æ¨ªç”»é¢ã®ã¨ãã¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ã®è¦‹å‡ºã—ãƒ»èª¬æ˜æ–‡ã‚’æ¶ˆã™ï¼ˆç¸¦æ–¹å‘ã‚’åºƒãä½¿ã†ï¼‰ */
body[data-orientation="landscape"] #screenMenu h2,
body[data-orientation="landscape"] #screenMenu p.muted.small {
  display: none;
}

/* æ¨ªç”»é¢ã§ã¯ãƒˆãƒƒãƒ—ãƒãƒ¼ã‚‚å°‘ã—è–„ããƒ»æ–‡å­—å°ã•ã */
body[data-orientation="landscape"] .topbar {
  padding: 4px 8px;
}
body[data-orientation="landscape"] .topbar h1 {
  font-size: 14px;
}

/* æ¨ªç”»é¢ã§ã¯ã‚«ãƒ¼ãƒˆãƒãƒ¼ã‚‚å°‘ã—è–„ãã™ã‚‹ */
body[data-orientation="landscape"] .cartbar {
  padding: 4px 8px;
  padding-bottom: calc(4px + env(safe-area-inset-bottom));
}
body[data-orientation="landscape"] .cartinfo {
  font-size: 11px;
}
/* æ¨ªç”»é¢ã®ã€Œä¼šè¨ˆã¸ã€ãƒœã‚¿ãƒ³ã‚‚å°‘ã—å°ã•ã‚ã« */
body[data-orientation="landscape"] .cartbar .primary {
  padding: 6px 10px;
  font-size: 13px;
  min-height: 34px;
}

/* â˜… æ¨ªã‚¹ã‚¯æ¡ä»¶ã§ã¯ã€å…±é€šã®åˆ—æŒ‡å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œã‚’é˜²ã */
body[data-orientation="portrait"] .products.horizontal,
body[data-orientation="landscape"] .products.horizontal {
  grid-template-columns: none;  /* ç¸¦ã‚¹ã‚¯ç”¨ã® 2åˆ—/3åˆ—æŒ‡å®šã‚’è§£é™¤ */
}
